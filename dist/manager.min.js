(function(a,b){if(typeof define==="function"&&define.amd){define("ComponentManager",[],b)}else{if(typeof exports==="object"){module.exports=b()}else{a.ComponentManager=b()}}}(this,function(){var c="data-component-name";var d={};var b=null;var a=function(h){h.forEach(function(i){[].slice.call(i.addedNodes).forEach(function(j){if(j.tagName){[].slice.call(j.querySelectorAll("["+c+"]")).sort(function(l,k){return d[l.getAttribute("data-component-name")].priority>d[k.getAttribute("data-component-name")].priority}).forEach(function(l){var k=l.getAttribute(c);if(d[k]){d[k].onAdd(l)}})}});[].slice.call(i.removedNodes).forEach(function(j){if(j.tagName){[].slice.call(j.querySelectorAll("["+c+"]")).forEach(function(l){var k=l.getAttribute(c);if(d[k]){d[k].onRemove(l)}})}})})};var f=function(h,k,j,i){if(!d[h]){d[h]={onAdd:k,onRemove:j?j:function(){},priority:i||100}}};var g=function(){b=new MutationObserver(a);b.observe(document.body,{childList:true,subtree:true})};var e=function(){if(b){b.disconnect()}};return{init:g,register:f,shutdown:e}}));
