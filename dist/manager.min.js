!function(e,t){"function"==typeof define&&define.amd?define("ComponentManager",[],t):"object"==typeof exports?module.exports=t():e.ComponentManager=t()}(this,function(){var e="data-component-name",t={},n=null,o=function(n){n.forEach(function(n){[].slice.call(n.addedNodes).forEach(function(n){n.tagName&&[].slice.call(n.querySelectorAll("["+e+"]")).sort(function(e,n){return t[e.getAttribute("data-component-name")].priority>t[n.getAttribute("data-component-name")].priority?1:-1}).forEach(function(n){var o=n.getAttribute(e);t[o]&&t[o].onAdd(n)})}),[].slice.call(n.removedNodes).forEach(function(n){n.tagName&&[].slice.call(n.querySelectorAll("["+e+"]")).forEach(function(n){var o=n.getAttribute(e);t[o]&&t[o].onRemove(n)})})})},r=function(e,n,o,r){return!t[e]&&(t[e]={onAdd:n,onRemove:o?o:function(){},priority:r||100},!0)},i=function(){n=new MutationObserver(o),n.observe(document.body,{childList:!0,subtree:!0})},c=function(){n&&n.disconnect()};return{init:i,register:r,shutdown:c}});
